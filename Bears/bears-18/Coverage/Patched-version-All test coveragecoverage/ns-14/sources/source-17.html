


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > SimpleBeanPropertyDefinition</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.fasterxml.jackson.databind.util</a>
</div>

<h1>Coverage Summary for Class: SimpleBeanPropertyDefinition (com.fasterxml.jackson.databind.util)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">SimpleBeanPropertyDefinition</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    53.3%
  </span>
  <span class="absValue">
    (16/30)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    45.9%
  </span>
  <span class="absValue">
    (28/61)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package com.fasterxml.jackson.databind.util;
&nbsp;
&nbsp;import java.util.Collections;
&nbsp;import java.util.Iterator;
&nbsp;
&nbsp;import com.fasterxml.jackson.annotation.JsonInclude;
&nbsp;
&nbsp;import com.fasterxml.jackson.databind.*;
&nbsp;import com.fasterxml.jackson.databind.cfg.MapperConfig;
&nbsp;import com.fasterxml.jackson.databind.introspect.*;
&nbsp;import com.fasterxml.jackson.databind.type.TypeFactory;
&nbsp;
&nbsp;/**
&nbsp; * Simple immutable {@link BeanPropertyDefinition} implementation that can
&nbsp; * be wrapped around a {@link AnnotatedMember} that is a simple
&nbsp; * accessor (getter) or mutator (setter, constructor parameter)
&nbsp; * (or both, for fields).
&nbsp; */
&nbsp;public class SimpleBeanPropertyDefinition
&nbsp;    extends BeanPropertyDefinition
&nbsp;{
&nbsp;    protected final AnnotationIntrospector _annotationIntrospector;
&nbsp;
&nbsp;    /**
&nbsp;     * Member that defines logical property. Assumption is that it
&nbsp;     * should be a &#39;simple&#39; accessor; meaning a zero-argument getter,
&nbsp;     * single-argument setter or constructor parameter.
&nbsp;     *&lt;p&gt;
&nbsp;     * NOTE: for &quot;virtual&quot; properties, this is null.
&nbsp;     */
&nbsp;    protected final AnnotatedMember _member;
&nbsp;
&nbsp;    /**
&nbsp;     * @since 2.5
&nbsp;     */
&nbsp;    protected final PropertyMetadata _metadata;
&nbsp;
&nbsp;    /**
&nbsp;     * @since 2.5
&nbsp;     */
&nbsp;    protected final PropertyName _fullName;
&nbsp;
&nbsp;    /**
&nbsp;     * @since 2.5
&nbsp;     */
&nbsp;    protected final JsonInclude.Value _inclusion;
&nbsp;
&nbsp;    /*
&nbsp;    /**********************************************************
&nbsp;    /* Construction
&nbsp;    /**********************************************************
&nbsp;     */
&nbsp;
&nbsp;    /**
&nbsp;     * @since 2.9
&nbsp;     */
&nbsp;    protected SimpleBeanPropertyDefinition(AnnotationIntrospector intr,
&nbsp;            AnnotatedMember member, PropertyName fullName, PropertyMetadata metadata,
&nbsp;            JsonInclude.Value inclusion)
<b class="fc">&nbsp;    {</b>
<b class="fc">&nbsp;        _annotationIntrospector = intr;</b>
<b class="fc">&nbsp;        _member = member;</b>
<b class="fc">&nbsp;        _fullName = fullName;</b>
<b class="fc">&nbsp;        _metadata = (metadata == null) ? PropertyMetadata.STD_OPTIONAL: metadata;</b>
<b class="fc">&nbsp;        _inclusion = inclusion;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * @since 2.2
&nbsp;     */
&nbsp;    public static SimpleBeanPropertyDefinition construct(MapperConfig&lt;?&gt; config,
&nbsp;    		AnnotatedMember member)
&nbsp;    {
<b class="nc">&nbsp;        return new SimpleBeanPropertyDefinition(config.getAnnotationIntrospector(),</b>
<b class="nc">&nbsp;                member, PropertyName.construct(member.getName()), null, EMPTY_INCLUDE);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * @since 2.5
&nbsp;     */
&nbsp;    public static SimpleBeanPropertyDefinition construct(MapperConfig&lt;?&gt; config,
&nbsp;            AnnotatedMember member, PropertyName name) {
<b class="fc">&nbsp;        return construct(config, member, name, null, EMPTY_INCLUDE);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Method called to create instance for virtual properties.
&nbsp;     *
&nbsp;     * @since 2.5
&nbsp;     */
&nbsp;    public static SimpleBeanPropertyDefinition construct(MapperConfig&lt;?&gt; config,
&nbsp;            AnnotatedMember member, PropertyName name, PropertyMetadata metadata,
&nbsp;            JsonInclude.Include inclusion)
&nbsp;    {
<b class="fc">&nbsp;        JsonInclude.Value inclValue</b>
&nbsp;             = ((inclusion == null) || (inclusion == JsonInclude.Include.USE_DEFAULTS)) 
<b class="fc">&nbsp;             ? EMPTY_INCLUDE : JsonInclude.Value.construct(inclusion, null);</b>
<b class="fc">&nbsp;        return new SimpleBeanPropertyDefinition(config.getAnnotationIntrospector(),</b>
&nbsp;                member, name, metadata, inclValue);
&nbsp;    }
&nbsp;    
&nbsp;    /**
&nbsp;     * @since 2.7
&nbsp;     */
&nbsp;    public static SimpleBeanPropertyDefinition construct(MapperConfig&lt;?&gt; config,
&nbsp;            AnnotatedMember member, PropertyName name, PropertyMetadata metadata,
&nbsp;            JsonInclude.Value inclusion) {
<b class="fc">&nbsp;          return new SimpleBeanPropertyDefinition(config.getAnnotationIntrospector(),</b>
&nbsp;                  member, name, metadata, inclusion);
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;    /**********************************************************
&nbsp;    /* Fluent factories
&nbsp;    /**********************************************************
&nbsp;     */
&nbsp;
&nbsp;    @Override
&nbsp;    public BeanPropertyDefinition withSimpleName(String newName) {
<b class="nc">&nbsp;        if (_fullName.hasSimpleName(newName) &amp;&amp; !_fullName.hasNamespace()) {</b>
<b class="nc">&nbsp;            return this;</b>
&nbsp;        }
<b class="nc">&nbsp;        return new SimpleBeanPropertyDefinition(_annotationIntrospector,</b>
&nbsp;                _member, new PropertyName(newName), _metadata, _inclusion);
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public BeanPropertyDefinition withName(PropertyName newName) {
<b class="nc">&nbsp;        if (_fullName.equals(newName)) {</b>
<b class="nc">&nbsp;            return this;</b>
&nbsp;        }
<b class="nc">&nbsp;        return new SimpleBeanPropertyDefinition(_annotationIntrospector, </b>
&nbsp;                _member, newName, _metadata, _inclusion);
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * @since 2.5
&nbsp;     */
&nbsp;    public BeanPropertyDefinition withMetadata(PropertyMetadata metadata) {
<b class="nc">&nbsp;        if (metadata.equals(_metadata)) {</b>
<b class="nc">&nbsp;            return this;</b>
&nbsp;        }
<b class="nc">&nbsp;        return new SimpleBeanPropertyDefinition(_annotationIntrospector,</b>
&nbsp;                _member, _fullName, metadata, _inclusion);
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * @since 2.5
&nbsp;     */
&nbsp;    public BeanPropertyDefinition withInclusion(JsonInclude.Value inclusion) {
<b class="nc">&nbsp;        if (_inclusion == inclusion) {</b>
<b class="nc">&nbsp;            return this;</b>
&nbsp;        }
<b class="nc">&nbsp;        return new SimpleBeanPropertyDefinition(_annotationIntrospector,</b>
&nbsp;                _member, _fullName, _metadata, inclusion);
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;    /**********************************************************
&nbsp;    /* Basic property information, name, type
&nbsp;    /**********************************************************
&nbsp;     */
&nbsp;
&nbsp;    @Override
<b class="fc">&nbsp;    public String getName() { return _fullName.getSimpleName(); }</b>
&nbsp;
&nbsp;    @Override
<b class="fc">&nbsp;    public PropertyName getFullName() { return _fullName; }</b>
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean hasName(PropertyName name) {
<b class="fc">&nbsp;        return _fullName.equals(name);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
<b class="nc">&nbsp;    public String getInternalName() { return getName(); }</b>
&nbsp;
&nbsp;    @Override
&nbsp;    public PropertyName getWrapperName() {
<b class="fc">&nbsp;        if ((_annotationIntrospector == null) || (_member == null)) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
<b class="fc">&nbsp;        return _annotationIntrospector.findWrapperName(_member);</b>
&nbsp;    }
&nbsp;
&nbsp;    // hmmh. what should we claim here?
&nbsp;
<b class="nc">&nbsp;    @Override public boolean isExplicitlyIncluded() { return false; }</b>
<b class="nc">&nbsp;    @Override public boolean isExplicitlyNamed() { return false; }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * We will indicate that property is optional, since there is nothing
&nbsp;     * to indicate whether it might be required.
&nbsp;     */
&nbsp;    @Override
&nbsp;    public PropertyMetadata getMetadata() {
<b class="fc">&nbsp;        return _metadata;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public JavaType getPrimaryType() {
<b class="nc">&nbsp;        if (_member == null) {</b>
<b class="nc">&nbsp;            return TypeFactory.unknownType();</b>
&nbsp;        }
<b class="nc">&nbsp;        return _member.getType();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public Class&lt;?&gt; getRawPrimaryType() {
<b class="nc">&nbsp;        if (_member == null) {</b>
<b class="nc">&nbsp;            return Object.class;</b>
&nbsp;        }
<b class="nc">&nbsp;        return _member.getRawType();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public JsonInclude.Value findInclusion() {
<b class="fc">&nbsp;        return _inclusion;</b>
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;    /**********************************************************
&nbsp;    /* Access to accessors (fields, methods etc)
&nbsp;    /**********************************************************
&nbsp;     */
&nbsp;
&nbsp;    @Override
<b class="nc">&nbsp;    public boolean hasGetter() { return (getGetter() != null); }</b>
&nbsp;
&nbsp;    @Override
<b class="fc">&nbsp;    public boolean hasSetter() { return (getSetter() != null); }</b>
&nbsp;
&nbsp;    @Override
<b class="fc">&nbsp;    public boolean hasField() { return (_member instanceof AnnotatedField); }</b>
&nbsp;
&nbsp;    @Override
<b class="fc">&nbsp;    public boolean hasConstructorParameter() { return (_member instanceof AnnotatedParameter); }</b>
&nbsp;
&nbsp;    @Override
&nbsp;    public AnnotatedMethod getGetter() {
<b class="fc">&nbsp;        if ((_member instanceof AnnotatedMethod)</b>
<b class="nc">&nbsp;                &amp;&amp; ((AnnotatedMethod) _member).getParameterCount() == 0) {</b>
<b class="nc">&nbsp;            return (AnnotatedMethod) _member;</b>
&nbsp;        }
<b class="fc">&nbsp;        return null;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public AnnotatedMethod getSetter() {
<b class="fc">&nbsp;        if ((_member instanceof AnnotatedMethod)</b>
<b class="fc">&nbsp;                &amp;&amp; ((AnnotatedMethod) _member).getParameterCount() == 1) {</b>
<b class="fc">&nbsp;            return (AnnotatedMethod) _member;</b>
&nbsp;        }
<b class="fc">&nbsp;        return null;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public AnnotatedField getField() {
<b class="nc">&nbsp;        return (_member instanceof AnnotatedField) ? (AnnotatedField) _member : null;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public AnnotatedParameter getConstructorParameter() {
<b class="nc">&nbsp;        return (_member instanceof AnnotatedParameter) ? (AnnotatedParameter) _member : null;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public Iterator&lt;AnnotatedParameter&gt; getConstructorParameters() {
<b class="nc">&nbsp;        AnnotatedParameter param = getConstructorParameter();</b>
<b class="nc">&nbsp;        if (param == null) {</b>
<b class="nc">&nbsp;            return ClassUtil.emptyIterator();</b>
&nbsp;        }
<b class="nc">&nbsp;        return Collections.singleton(param).iterator();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
<b class="fc">&nbsp;    public AnnotatedMember getPrimaryMember() { return _member; }</b>
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-04-02 21:24</div>
</div>
</body>
</html>
