diff --git a/.gitlab-ci.yml b/.gitlab-ci.yml
index 75bdc0b1f2..1575dbda57 100644
--- a/.gitlab-ci.yml
+++ b/.gitlab-ci.yml
@@ -1,5 +1,5 @@
 all-test:
   script:
       - set MAVEN_OPTS="-Xms6000m -Xmx8000m"
-      - mvn install --fail-at-end
-      - cd test/docker-tests && mvn install -Ddocker.url=tom.inf.unibz.it -DskipTests=false --fail-at-end
+      - ./mvnw install --fail-at-end
+      - cd test/docker-tests && ./mvnw install -Ddocker.url=tom.inf.unibz.it -DskipTests=false --fail-at-end
diff --git a/README.md b/README.md
index 6daf6900a1..d8abc10e3a 100644
--- a/README.md
+++ b/README.md
@@ -7,6 +7,7 @@
 |-----------|---------------|
 | [master](https://github.com/ontop/ontop/tree/master)  |[![Build Status](https://travis-ci.org/ontop/ontop.svg?branch=master)](https://travis-ci.org/ontop/ontop)|
 | [develop](https://github.com/ontop/ontop/tree/develop) |[![Build Status](https://travis-ci.org/ontop/ontop.svg?branch=develop)](https://travis-ci.org/ontop/ontop)|
+| [version3](https://github.com/ontop/ontop/tree/version3) |[![Build Status](https://travis-ci.org/ontop/ontop.svg?branch=version3)](https://travis-ci.org/ontop/ontop)|
 
 
 Ontop
diff --git a/test/semantic-index/src/test/java/it/unibz/inf/ontop/rdf4j/general/OntopRDF4JInMemoryTest.java b/test/semantic-index/src/test/java/it/unibz/inf/ontop/rdf4j/general/OntopRDF4JInMemoryTest.java
index c0e8b09865..268622fd9b 100644
--- a/test/semantic-index/src/test/java/it/unibz/inf/ontop/rdf4j/general/OntopRDF4JInMemoryTest.java
+++ b/test/semantic-index/src/test/java/it/unibz/inf/ontop/rdf4j/general/OntopRDF4JInMemoryTest.java
@@ -35,6 +35,7 @@ import org.eclipse.rdf4j.repository.RepositoryConnection;
 import org.junit.*;
 
 import java.io.File;
+import java.net.URL;
 import java.util.List;
 import java.util.Properties;
 
@@ -50,8 +51,8 @@ public class OntopRDF4JInMemoryTest {
     //
     //  I did not find an easy way to change this behavior, but simply converted the file format
     //   from RDF/XML format into turtle .
-    final static String owlFile = "src/test/resources/test/exampleBooks.ttl";
-	final static String owlAboxFile = "src/test/resources/test/exampleBooksAbox.ttl";
+    final static String owlFile = "/test/exampleBooks.ttl";
+	final static String owlAboxFile = "/test/exampleBooksABox.ttl";
 
 	private static Repository repository;
 	private RepositoryConnection con;
@@ -71,13 +72,11 @@ public class OntopRDF4JInMemoryTest {
 		/*
 		 * Add RDF data to the repository
 		 */
-		File ontologyAboxFile = new File(owlAboxFile);
-		File ontologyFile = new File(owlFile);
 
 		SimpleDataset dataset = new SimpleDataset();
 		SimpleValueFactory valueFactory = SimpleValueFactory.getInstance();
-		dataset.addDefaultGraph(valueFactory.createIRI(ontologyAboxFile.toURI().toString()));
-		dataset.addDefaultGraph(valueFactory.createIRI(ontologyFile.toURI().toString()));
+		dataset.addDefaultGraph(valueFactory.createIRI(OntopRDF4JInMemoryTest.class.getResource(owlAboxFile).toString()));
+		dataset.addDefaultGraph(valueFactory.createIRI(OntopRDF4JInMemoryTest.class.getResource(owlFile).toString()));
 
 		try(OntopSemanticIndexLoader loader = OntopSemanticIndexLoader.loadRDFGraph(dataset, p)) {
 			repository = OntopRepository.defaultRepository(loader.getConfiguration());
diff --git a/test/semantic-index/src/test/java/it/unibz/inf/ontop/rdf4j/general/RDF4JClassicABoxTest.java b/test/semantic-index/src/test/java/it/unibz/inf/ontop/rdf4j/general/RDF4JClassicABoxTest.java
index 67b12be685..a883704c39 100644
--- a/test/semantic-index/src/test/java/it/unibz/inf/ontop/rdf4j/general/RDF4JClassicABoxTest.java
+++ b/test/semantic-index/src/test/java/it/unibz/inf/ontop/rdf4j/general/RDF4JClassicABoxTest.java
@@ -54,7 +54,7 @@ public class RDF4JClassicABoxTest {
 	public static void setupInMemory() throws Exception
 	{
 		// create a sesame in-memory repository
-		String owlfile = "src/test/resources/onto2.owl";
+		String owlfile = "src/test/resources/onto2.ttl";
 
 		Properties p = new Properties();
 		p.put(OntopReformulationSettings.EXISTENTIAL_REASONING, false);
@@ -69,7 +69,7 @@ public class RDF4JClassicABoxTest {
 		System.out.println("Add from files.");
 
 		// /add data to dataset for the repository
-		File file = new File("src/test/resources/onto2plus.owl");
+		File file = new File("src/test/resources/onto2plus.ttl");
 		File file2 = new File("src/test/resources/onto2.ttl");
 
 		dataset.addDefaultGraph(valueFactory.createIRI(file.toURI().toString()));
@@ -89,9 +89,11 @@ public class RDF4JClassicABoxTest {
 	@AfterClass
 	public static void close() throws RepositoryException
 	{
-		System.out.println("Closing...");
-		repo.shutDown();
-		System.out.println("Done.");
+		if (repo != null) {
+			System.out.println("Closing...");
+			repo.shutDown();
+			System.out.println("Done.");
+		}
 	}
 
 
@@ -159,7 +161,7 @@ public class RDF4JClassicABoxTest {
 	@Test
 	public void graphQuery() throws RepositoryException, MalformedQueryException, QueryEvaluationException
 	{
-		String queryString = "CONSTRUCT {?x a ?y} WHERE { ?x a ?y} ";
+		String queryString = "CONSTRUCT {?x a ?y } WHERE { ?x a ?y } ";
 		// String queryString =
 		// "SELECT ?x ?y WHERE { ?x a onto:Person. ?x onto:age ?y } ";
 		try (RepositoryConnection con = repo.getConnection()) {
@@ -172,7 +174,8 @@ public class RDF4JClassicABoxTest {
 				System.out.println(st.toString());
 				nresult++;
 			}
-			assertEquals(14, nresult);
+			//BC: apparently, no reasoning is going on...
+			assertEquals(6, nresult);
 			result.close();
 		}
 	}
diff --git a/test/semantic-index/src/test/resources/onto2.ttl b/test/semantic-index/src/test/resources/onto2.ttl
index 38f972da51..4d35f2bfe8 100644
--- a/test/semantic-index/src/test/resources/onto2.ttl
+++ b/test/semantic-index/src/test/resources/onto2.ttl
@@ -1,8 +1,9 @@
 @prefix : <http://it.unibz.inf/obda/ontologies/test/translation/onto2.owl#> .
+@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
+@prefix owl: <http://www.w3.org/2002/07/owl#> .
+
 :Lisa a :Person.
 :Alice  a :Person.
 :Bob  a :Person.
 :Bob  :age "5".
 :Alice  :age "14".
-
-
diff --git a/test/semantic-index/src/test/resources/onto2plus.ttl b/test/semantic-index/src/test/resources/onto2plus.ttl
new file mode 100644
index 0000000000..95d14dc898
--- /dev/null
+++ b/test/semantic-index/src/test/resources/onto2plus.ttl
@@ -0,0 +1,26 @@
+@prefix owl: <http://www.w3.org/2002/07/owl#> .
+@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
+@prefix xml: <http://www.w3.org/XML/1998/namespace> .
+@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
+@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
+@prefix onto2: <http://it.unibz.inf/obda/ontologies/test/translation/onto2.owl#> .
+@prefix owl2xml: <http://www.w3.org/2006/12/owl2-xml#> .
+@base <http://www.w3.org/2002/07/owl#> .
+
+###  http://it.unibz.inf/obda/ontologies/test/translation/onto2.owl#1
+onto2:1 rdf:type onto2:Person ;
+       onto2:R onto2:1 ;
+       onto2:age "23"^^xsd:int .
+
+
+###  http://it.unibz.inf/obda/ontologies/test/translation/onto2.owl#2
+onto2:2 rdf:type onto2:Man ;
+       onto2:R onto2:2 ;
+       onto2:age "23" .
+
+
+###  http://it.unibz.inf/obda/ontologies/test/translation/onto2.owl#3
+onto2:3 rdf:type onto2:Woman ;
+       onto2:P onto2:3 ;
+       onto2:age "23.3"^^xsd:float .
+
diff --git a/test/sparql-compliance/src/main/java/it/unibz/inf/ontop/test/sparql/MemorySPARQLQueryTest.java b/test/sparql-compliance/src/main/java/it/unibz/inf/ontop/test/sparql/MemorySPARQLQueryTest.java
deleted file mode 100644
index 3409eaa3ed..0000000000
--- a/test/sparql-compliance/src/main/java/it/unibz/inf/ontop/test/sparql/MemorySPARQLQueryTest.java
+++ /dev/null
@@ -1,312 +0,0 @@
-package it.unibz.inf.ontop.test.sparql;
-
-/*
- * #%L
- * ontop-sparql-compliance
- * %%
- * Copyright (C) 2009 - 2014 Free University of Bozen-Bolzano
- * %%
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- * 
- *      http://www.apache.org/licenses/LICENSE-2.0
- * 
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- * #L%
- */
-
-import com.google.common.collect.ImmutableSet;
-import it.unibz.inf.ontop.rdf4j.repository.OntopRepository;
-import it.unibz.inf.ontop.si.OntopSemanticIndexLoader;
-import it.unibz.inf.ontop.si.SemanticIndexException;
-import junit.framework.Test;
-import org.eclipse.rdf4j.query.Dataset;
-import org.eclipse.rdf4j.repository.Repository;
-import org.junit.Ignore;
-
-import java.util.Properties;
-import java.util.Set;
-
-// Test of SPARQL 1.0 compliance
-@Ignore("We are testing the modified version MemorySPARQLOntopQueryTest")
-public class MemorySPARQLQueryTest extends SPARQLQueryParent {
-
-	/* List of UNSUPPORTED QUERIES */
-
-	private static final String algebraManifest = "http://www.w3.org/2001/sw/DataAccess/tests/data-r2/algebra/manifest#";
-	private static final String basicManifest = "http://www.w3.org/2001/sw/DataAccess/tests/data-r2/basic/manifest#";
-	private static final String booleanManifest = "http://www.w3.org/2001/sw/DataAccess/tests/data-r2/boolean-effective-value/manifest#";
-	private static final String castManifest = "http://www.w3.org/2001/sw/DataAccess/tests/data-r2/cast/manifest#";
-	private static final String constructManifest = "http://www.w3.org/2001/sw/DataAccess/tests/data-r2/construct/manifest#";
-    private static final String datasetManifest = "http://www.w3.org/2001/sw/DataAccess/tests/data-r2/dataset/manifest#";
-	private static final String distinctManifest = "http://www.w3.org/2001/sw/DataAccess/tests/data-r2/distinct/manifest#";
-	private static final String exprBuiltInManifest ="http://www.w3.org/2001/sw/DataAccess/tests/data-r2/expr-builtin/manifest#";
-	private static final String exprEqualsManifest ="http://www.w3.org/2001/sw/DataAccess/tests/data-r2/expr-equals/manifest#";
-    private static final String graphManifest ="http://www.w3.org/2001/sw/DataAccess/tests/data-r2/graph/manifest#";
-	private static final String openWorldManifest ="http://www.w3.org/2001/sw/DataAccess/tests/data-r2/open-world/manifest#";
-	private static final String regexManifest ="http://www.w3.org/2001/sw/DataAccess/tests/data-r2/regex/manifest#";
-	private static final String sortManifest ="http://www.w3.org/2001/sw/DataAccess/tests/data-r2/sort/manifest#";
-	private static final String typePromotionManifest ="http://www.w3.org/2001/sw/DataAccess/tests/data-r2/type-promotion/manifest#";
-
-	private static Set<String> IGNORE = ImmutableSet.of(
-
-			/* DATA-R2: ALGEBRA
-			not well designed queries actually return correct results :
-			:nested-opt-1
-			:nested-opt-2
-			:opt-filter-1
-			:opt-filter-2 */
-
-			//Unexpected exception: Unbounded variable: v2 Problem already appears in the filter datalog translation (missing variable v)
-			//LeftJoin(http://example/q(URI1(0),w),http://example/p(URI1(0),v2),EQ("null",http://www.w3.org/2001/XMLSchema#integer(1)))
-			algebraManifest + "filter-scope-1",
-
-			//Empty results. WON'T FIX: GRAPH issue Problem already appears in the datalog  translation
-			algebraManifest + "join-combo-2",
-
-			//error, missing a result, null equalities
-			algebraManifest + "join-combo-1",
-
-			//Unexpected exception: Unbounded variable: v2 Problem already appears in the filter datalog translation (missing variable v) # ?v is not in scope so ?v2 never set
-			//expected empty ripTesult
-			algebraManifest + "opt-filter-3",
-
-			/* DATA-R2: BASIC*/
-
-			//error, empty query instead of solution. UNIX line end conventions is ignored
-			basicManifest + "quotes-4",
-
-			//missing result "." is not considered as part of the decimal (error is already in the sparql algebra)
-			basicManifest + "term-6",
-
-			//MalformedQueryException SPARQL Parser Encountered "."  "." is not considered as part of the decimal (error is already in the sparql algebra)
-			basicManifest + "term-7",
-
-			/* DATA-R2: BOOLEAN EFFECTIVE VALUE */
-			//Cannot return the SQL type for: w
-			booleanManifest + "dawg-bev-5",
-
-			/* DATA-R2: CAST
-			Cast with function call on the datatype is not yet supported e.g. FILTER(datatype(xsd:double(?v)) = xsd:double) . */
-
-			castManifest + "cast-str",
-			castManifest + "cast-flt",
-			castManifest + "cast-dbl",
-			castManifest + "cast-dec",
-			castManifest + "cast-int",
-			castManifest + "cast-dT",
-			castManifest + "cast-bool",
-
-			/* DATA-R2: CONSTRUCT Null pointer exception */
-
-			constructManifest + "construct-3",
-			constructManifest + "construct-4",
-
-            /* DATA-R2: DATASET NullPointerException
-            loading unsupported  */
-
-            datasetManifest + "dawg-dataset-01",
-            datasetManifest + "dawg-dataset-02",
-            datasetManifest + "dawg-dataset-03",
-            datasetManifest + "dawg-dataset-04",
-            datasetManifest + "dawg-dataset-05",
-            datasetManifest + "dawg-dataset-06",
-            datasetManifest + "dawg-dataset-07",
-            datasetManifest + "dawg-dataset-08",
-            datasetManifest + "dawg-dataset-09",
-            datasetManifest + "dawg-dataset-10",
-            datasetManifest + "dawg-dataset-11",
-            datasetManifest + "dawg-dataset-12",
-            datasetManifest + "dawg-dataset-09b",
-            datasetManifest + "dawg-dataset-10b",
-            datasetManifest + "dawg-dataset-12b",
-
-			/* DATA-R2: DISTINCT Missing and unexpected bindings  */
-			distinctManifest + "no-distinct-9",
-			distinctManifest + "distinct-9",
-
-			/* DATA-R2: EXPR-BUILTIN   */
-
-			//unknown datatype are not supported, so missing type
-			exprBuiltInManifest + "dawg-isLiteral-1",
-
-			//Illegal subject value: ""^^<http://www.w3.org/2001/XMLSchema#integer>
-			exprBuiltInManifest + "dawg-langMatches-2",
-
-			//missing and unexpected bindings:
-			exprBuiltInManifest + "sameTerm-eq",
-
-			//Missing bindings:
-			exprBuiltInManifest + "sameTerm-not-eq",
-
-			//missing and unexpected bindings:
-			// The reason is because DBMS may modify the string representation
-			// of the original data no support for custom datatype
-			exprBuiltInManifest + "sameTerm-simple",
-
-			//Missing bindings The reason is because DBMS may modify the string representation
-			//  of the original data, i.e., "1"^^xsd:double --> 1.0
-			exprBuiltInManifest + "dawg-str-1",
-
-			//Illegal subject value: ""^^<http://www.w3.org/2001/XMLSchema#integer>
-			exprBuiltInManifest + "dawg-str-2",
-
-			//java.lang.NumberFormatException: For input string: "zzz" no support for custom datatype.
-			exprBuiltInManifest + "dawg-str-3",
-
-			//NumberFormatException: For input string: "" (it should not be considered as a number)
-			exprBuiltInManifest + "dawg-str-4",
-
-            //unknownType not supported, custom datatype
-            exprBuiltInManifest + "dawg-datatype-2",
-            exprBuiltInManifest + "dawg-lang-1",
-            exprBuiltInManifest + "dawg-lang-2",
-
-			/* DATA-R2: EXPR-EQUALS   */
-			//never ends don't manage to get the result from the sql query
-			exprEqualsManifest + "eq-2-1",
-
-			//missing and unexpected bindings, no custom datatypes supported
-			exprEqualsManifest + "eq-2-2",
-
-			//missing bindings  equality between different
-			//      #    numerical datatypes is not recognized.
-			exprEqualsManifest + "eq-1",
-			exprEqualsManifest + "eq-2",
-
-			//Data conversion error converting "zzz" Bad datatype handling by the classic mode.
-			exprEqualsManifest + "eq-4",
-
-            /* DATA-R2: GRAPH   */
-            //Unexpected bindings: it should not return results
-            graphManifest + "dawg-graph-02",
-
-            //Problem with graph transaltion in SPARQL Projection source of ProjectionElem "g"  not found in Join
-            graphManifest + "dawg-graph-03",
-            graphManifest + "dawg-graph-04",
-
-            //Unexpected bindings: one result more from dataset2
-            graphManifest + "dawg-graph-05",
-
-            //Problem with graph transaltion in SPARQL Projection source of ProjectionElem "g"  not found in Join
-            graphManifest + "dawg-graph-06",
-            graphManifest + "dawg-graph-07",
-            graphManifest + "dawg-graph-08",
-            graphManifest + "dawg-graph-09",
-            graphManifest + "dawg-graph-10",
-            graphManifest + "dawg-graph-10b",
-            graphManifest + "dawg-graph-11",
-
-			/* DATA-R2: OPEN_WORLD   */
-			//missing and unexpected bindings, different time in the unexpected datetime result
-			openWorldManifest +"date-2",
-			openWorldManifest +"date-3",
-
-			//Missing bindings no result while searching for xsd:date datatype
-			openWorldManifest +"date-4",
-
-			//Data conversion error converting "v2" data conversion error in sql
-			openWorldManifest +"open-cmp-01",
-			openWorldManifest +"open-cmp-02",
-
-			//Unexpected bindings: we return values that do not strictly match 001
-			openWorldManifest +"open-eq-01",
-
-			//Missing bindings: unsupported user-defined datatype
-			openWorldManifest +"open-eq-02",
-            openWorldManifest +"open-eq-05",
-
-			//Unexpected bindings: should return empty result, we cannot know what is different from an unknown datatype
-			openWorldManifest +"open-eq-06",
-
-			//Missing bindings eaulity between variables
-			openWorldManifest +"open-eq-07",
-
-			//Missing bindings: problem handling language tags
-			openWorldManifest +"open-eq-08",
-			openWorldManifest +"open-eq-10",
-			openWorldManifest +"open-eq-11",
-
-			//Data conversion error converting "xyz"
-			openWorldManifest +"open-eq-12",
-
-			/* DATA-R2: REGEX
-			Missing bindings #string operation over URI is not supported in SI mode*/
-			regexManifest + "dawg-regex-004",
-
-			/* DATA-R2: SORT
-			 * Problem with SPARQL translation
-			  * Error translating ORDER BY.
-			   * The current implementation can only sort by variables. This query has a more complex expression*/
-			sortManifest + "dawg-sort-numbers",
-			sortManifest + "dawg-sort-builtin",
-			sortManifest + "dawg-sort-function",
-
-
-			/* DATA-R2: TYPE-PROMOTION
-			 * all removed because of unsupported types */
-			typePromotionManifest + "type-promotion-13",
-			typePromotionManifest + "type-promotion-11",
-			typePromotionManifest + "type-promotion-07",
-			typePromotionManifest + "type-promotion-10",
-			typePromotionManifest + "type-promotion-09",
-			typePromotionManifest + "type-promotion-14",
-			typePromotionManifest + "type-promotion-08",
-			typePromotionManifest + "type-promotion-19",
-			typePromotionManifest + "type-promotion-22",
-			typePromotionManifest + "type-promotion-20",
-			typePromotionManifest + "type-promotion-21",
-			typePromotionManifest + "type-promotion-12",
-			typePromotionManifest + "type-promotion-18",
-			typePromotionManifest + "type-promotion-15",
-			typePromotionManifest + "type-promotion-16",
-			typePromotionManifest + "type-promotion-17"
-
-
-
-	);
-
-	public static Test suite() throws Exception{
-		return suite(true);
-	}
-
-	public static Test suite(boolean ignoreFailures) throws Exception {
-		return ManifestTestUtils.suite(new Factory() {
-
-			public MemorySPARQLQueryTest createSPARQLQueryTest(
-					String testURI, String name, String queryFileURL,
-					String resultFileURL, Dataset dataSet,
-					boolean laxCardinality, boolean checkOrder) {
-				if(ignoreFailures && !IGNORE.contains(testURI)) {
-					return new MemorySPARQLQueryTest(testURI, name,
-							queryFileURL, resultFileURL, dataSet, laxCardinality,
-							checkOrder);
-				}
-				return null;
-
-			}
-		}, "/testcases-dawg/data-r2/manifest-evaluation.ttl");
-	}
-
-
-	protected MemorySPARQLQueryTest(String testURI, String name,
-									String queryFileURL, String resultFileURL, Dataset dataSet,
-									boolean laxCardinality, boolean checkOrder) {
-		super(testURI, name, queryFileURL, resultFileURL, dataSet,
-				laxCardinality, checkOrder);
-	}
-
-	@Override
-	protected Repository newRepository() throws SemanticIndexException {
-		try(OntopSemanticIndexLoader loader = OntopSemanticIndexLoader.loadRDFGraph(dataset, new Properties())) {
-			Repository repository = OntopRepository.defaultRepository(loader.getConfiguration());
-			repository.initialize();
-			return repository;
-		}
-	}
-}
