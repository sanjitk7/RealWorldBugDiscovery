diff --git a/dubbo-rpc/dubbo-rpc-hessian/src/main/java/org/apache/dubbo/rpc/protocol/hessian/HessianProtocol.java b/dubbo-rpc/dubbo-rpc-hessian/src/main/java/org/apache/dubbo/rpc/protocol/hessian/HessianProtocol.java
index ebe1cbd8d..8a7e0e99b 100644
--- a/dubbo-rpc/dubbo-rpc-hessian/src/main/java/org/apache/dubbo/rpc/protocol/hessian/HessianProtocol.java
+++ b/dubbo-rpc/dubbo-rpc-hessian/src/main/java/org/apache/dubbo/rpc/protocol/hessian/HessianProtocol.java
@@ -109,7 +109,9 @@ public class HessianProtocol extends AbstractProxyProtocol {
         hessianProxyFactory.setOverloadEnabled(isOverloadEnabled);
         String client = url.getParameter(Constants.CLIENT_KEY, Constants.DEFAULT_HTTP_CLIENT);
         if ("httpclient".equals(client)) {
-            hessianProxyFactory.setConnectionFactory(new HttpClientConnectionFactory());
+            HessianConnectionFactory factory = new HttpClientConnectionFactory();
+            factory.setHessianProxyFactory(hessianProxyFactory);
+            hessianProxyFactory.setConnectionFactory(factory);
         } else if (client != null && client.length() > 0 && !Constants.DEFAULT_HTTP_CLIENT.equals(client)) {
             throw new IllegalStateException("Unsupported http protocol client=\"" + client + "\"!");
         } else {
diff --git a/dubbo-rpc/dubbo-rpc-hessian/src/main/java/org/apache/dubbo/rpc/protocol/hessian/HttpClientConnectionFactory.java b/dubbo-rpc/dubbo-rpc-hessian/src/main/java/org/apache/dubbo/rpc/protocol/hessian/HttpClientConnectionFactory.java
index 13cda9b7a..079084233 100644
--- a/dubbo-rpc/dubbo-rpc-hessian/src/main/java/org/apache/dubbo/rpc/protocol/hessian/HttpClientConnectionFactory.java
+++ b/dubbo-rpc/dubbo-rpc-hessian/src/main/java/org/apache/dubbo/rpc/protocol/hessian/HttpClientConnectionFactory.java
@@ -18,6 +18,7 @@ package org.apache.dubbo.rpc.protocol.hessian;
 
 import org.apache.dubbo.common.Constants;
 import org.apache.dubbo.rpc.RpcContext;
+
 import com.caucho.hessian.client.HessianConnection;
 import com.caucho.hessian.client.HessianConnectionFactory;
 import com.caucho.hessian.client.HessianProxyFactory;
@@ -47,9 +48,9 @@ public class HttpClientConnectionFactory implements HessianConnectionFactory {
     @Override
     public HessianConnection open(URL url) {
         RequestConfig requestConfig = RequestConfig.custom()
-            .setConnectionRequestTimeout((int)this.hessianProxyFactory.getConnectTimeout())
-            .setSocketTimeout((int)this.hessianProxyFactory.getReadTimeout())
-            .build();
+                .setConnectionRequestTimeout((int) this.hessianProxyFactory.getConnectTimeout())
+                .setSocketTimeout((int) this.hessianProxyFactory.getReadTimeout())
+                .build();
         HttpClient httpClient = httpClientBuilder.setDefaultRequestConfig(requestConfig).build();
         HttpClientConnection httpClientConnection = new HttpClientConnection(httpClient, url);
         RpcContext context = RpcContext.getContext();
@@ -58,5 +59,4 @@ public class HttpClientConnectionFactory implements HessianConnectionFactory {
         }
         return httpClientConnection;
     }
-
 }
