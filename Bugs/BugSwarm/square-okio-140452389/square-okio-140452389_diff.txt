diff --git a/okio/src/main/java/okio/Buffer.java b/okio/src/main/java/okio/Buffer.java
index ff9060fb..3e910e46 100644
--- a/okio/src/main/java/okio/Buffer.java
+++ b/okio/src/main/java/okio/Buffer.java
@@ -1456,8 +1456,8 @@ public final class Buffer implements BufferedSource, BufferedSink, Cloneable {
   }
 
   @Override public boolean rangeEquals(long offset, ByteString bytes, int bytesOffset, int byteCount) {
+    if (offset < 0) throw new ArrayIndexOutOfBoundsException("offset=" + offset);
     int bytesSize = bytes.size();
-    Util.checkOffsetAndCount(size, offset, bytesSize);
     if ((bytesOffset | byteCount) < 0
         || bytesOffset > bytesSize
         || bytesSize - bytesOffset < byteCount) {
diff --git a/okio/src/test/java/okio/BufferedSourceTest.java b/okio/src/test/java/okio/BufferedSourceTest.java
index dfecb5ea..bfec8145 100644
--- a/okio/src/test/java/okio/BufferedSourceTest.java
+++ b/okio/src/test/java/okio/BufferedSourceTest.java
@@ -942,14 +942,11 @@ public final class BufferedSourceTest {
   }
 
   @Test public void rangeEqualsArgumentValidation() throws IOException {
-    sink.writeUtf8("ABC");
-
     try {
       source.rangeEquals(-1, ByteString.encodeUtf8("A"));
       fail();
     } catch (ArrayIndexOutOfBoundsException expected) {
-      // This message is formatted differently based on Buffer or RealBufferedSource.
-      assertTrue(expected.getMessage().contains("offset=-1"));
+      assertEquals("offset=-1", expected.getMessage());
     }
     try {
       source.rangeEquals(0, ByteString.encodeUtf8("A"), -1, 1);
