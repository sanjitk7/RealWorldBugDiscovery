diff --git a/core/src/main/java/feign/querymap/FieldQueryMapEncoder.java b/core/src/main/java/feign/querymap/FieldQueryMapEncoder.java
index 034fefd1..0d1759a1 100644
--- a/core/src/main/java/feign/querymap/FieldQueryMapEncoder.java
+++ b/core/src/main/java/feign/querymap/FieldQueryMapEncoder.java
@@ -17,7 +17,6 @@ import feign.QueryMapEncoder;
 import feign.codec.EncodeException;
 import java.lang.reflect.Field;
 import java.util.*;
-import java.util.stream.Collectors;
 
 /**
  * the query map will be generated using member variable names as query parameter names.
@@ -67,11 +66,14 @@ public class FieldQueryMapEncoder implements QueryMapEncoder {
     }
 
     private static ObjectParamMetadata parseObjectType(Class<?> type) {
-      return new ObjectParamMetadata(
-          Arrays.stream(type.getDeclaredFields())
-              .filter(field -> !field.isSynthetic())
-              .peek(field -> field.setAccessible(true))
-              .collect(Collectors.toList()));
+      List<Field> fields = new ArrayList<Field>();
+      for (Field field : type.getDeclaredFields()) {
+        if (!field.isAccessible()) {
+          field.setAccessible(true);
+        }
+        fields.add(field);
+      }
+      return new ObjectParamMetadata(fields);
     }
   }
 }
diff --git a/core/src/test/java/feign/querymap/FieldQueryMapEncoderTest.java b/core/src/test/java/feign/querymap/FieldQueryMapEncoderTest.java
deleted file mode 100644
index 19b31c9e..00000000
--- a/core/src/test/java/feign/querymap/FieldQueryMapEncoderTest.java
+++ /dev/null
@@ -1,67 +0,0 @@
-/**
- * Copyright 2012-2018 The Feign Authors
- *
- * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
- * in compliance with the License. You may obtain a copy of the License at
- *
- * http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software distributed under the License
- * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
- * or implied. See the License for the specific language governing permissions and limitations under
- * the License.
- */
-package feign.querymap;
-
-import static org.junit.Assert.assertEquals;
-import static org.junit.Assert.assertTrue;
-import org.junit.Rule;
-import org.junit.Test;
-import org.junit.rules.ExpectedException;
-import java.util.HashMap;
-import java.util.Map;
-import feign.QueryMapEncoder;
-
-/**
- * Test for {@link FieldQueryMapEncoder}
- */
-public class FieldQueryMapEncoderTest {
-    private final String bar;
-    private final String bar;
-  }
-    private final String bar;
-  }
-
-}
diff --git a/core/src/test/java/feign/querymap/BeanQueryMapEncoderTest.java b/core/src/test/java/feign/querymap/PropertyQueryMapEncoderTest.java
similarity index 97%
rename from core/src/test/java/feign/querymap/BeanQueryMapEncoderTest.java
rename to core/src/test/java/feign/querymap/PropertyQueryMapEncoderTest.java
index 0cc2f8b7..7f2c2f50 100644
--- a/core/src/test/java/feign/querymap/BeanQueryMapEncoderTest.java
+++ b/core/src/test/java/feign/querymap/PropertyQueryMapEncoderTest.java
@@ -22,10 +22,7 @@ import java.util.Map;
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertTrue;
 
-/**
- * Test for {@link BeanQueryMapEncoder}
- */
-public class BeanQueryMapEncoderTest {
+public class PropertyQueryMapEncoderTest {
 
   @Rule
   public final ExpectedException thrown = ExpectedException.none();